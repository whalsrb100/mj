# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
nfs --server=172.16.2.1 --dir=/data/iso/rhel6.7
lang en_US.UTF-8
keyboard us
network --onboot no --device eth0 --bootproto dhcp --noipv6
#network --onboot no --device eth0 --bootproto query --noipv6
reboot
rootpw  --iscrypted $6$UEE7EoPsGHXvmRko$0jAACuY40kWRDqMXsr2KF5qPBRRx9r8T66lxirn6QXIgpU/zUvcek.t6TWaOP/sIQvf1Z6FCngOi57XZhWYMd.
firewall --disabled
authconfig --enableshadow --passalgo=sha512
selinux --disabled
timezone Asia/Seoul
bootloader --location=mbr --driveorder=sda --append="crashkernel=auto"

# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
#interactive

clearpart --initlabel --all

part / --fstype=ext4 --size=30720 --ondisk=sda --asprimary
part /boot --fstype=ext4 --size=2048 --ondisk=sda --asprimary
part swap --size=4096 --ondisk=sda --asprimary

part /usr --fstype=ext4 --ondisk=sda --size=20480
part /var --fstype=ext4 --ondisk=sda --size=10240

part pv.008002 --grow --size=1 --ondisk=sda
volgroup VG-1 --pesize=4096 pv.008002
logvol /tmp --fstype=ext4 --name=tmp --vgname=VG-1 --size=10240
logvol /data --fstype=ext4 --name=data --vgname=VG-1 --grow --size=200


#part / --fstype ext4 --size=40960 --ondisk=sda --asprimary
#part /boot --fstype ext4 --size=200 --ondisk=sda --asprimary
#part swap --size=65536 --ondisk=sda --asprimary
#part /var --fstype ext4 --size=102400 --ondisk=sda

#part /users --fstype ext4 --size=2048 --grow --ondisk=sda

#part /data01 --fstype ext4 --size=2048 --grow --ondisk=sdb

firstboot --disable

#part /boot --fstype=ext4 --size=2048
#part pv.008002 --grow --size=1

#part / --fstype ext4 --size=100 --grow --ondisk=sda --asprimary

#### External Disk LVM partitions ####
#part pv.008017 --ondisk=sdb --grow --size=200
#part pv.008018 --ondisk=sdc --grow --size=200
#part pv.008019 --ondisk=sdd --grow --size=200
#volgroup VG01 --pesize=4096 pv.008017 pv.008018 pv.008019
#logvol /SKTMRF1 --fstype=ext4 --name=SKTMRF1 --vgname=VG01 --size=200 --grow

#part pv.008018 --ondisk=sdc --grow --size=200
#volgroup VG02 --pesize=4096 pv.008018
#logvol /SKTMRF2 --fstype=ext4 --name=SKTMRF2 --vgname=VG02 --size=200 --grow

#volgroup VG01 --pesize=4096 pv.008002
#logvol /home --fstype=ext4 --name=home --vgname=VG01 --size=61440
#logvol / --fstype=ext4 --name=root --vgname=VG01 --size=81290
#logvol swap --name=swap --vgname=VG01 --size=16384
#logvol /usr --fstype=ext4 --name=usr --vgname=VG01 --size=10240
#logvol /usr/local --fstype=ext4 --name=local --vgname=VG01 --size=30720
#logvol /var --fstype=ext4 --name=var --vgname=VG01 --size=61440
#logvol /var/crash --fstype=ext4 --name=crash --vgname=VG01 --size=196608
#logvol /var/crash --fstype=ext4 --name=crash --vgname=VG01 --size=98304
#logvol /workspace --fstype=ext4 --name=workspace --vgname=VG01 --size=102400
#logvol /log --fstype=ext4 --name=log --vgname=VG01 --size=10240 --grow



%packages
@base
@client-mgmt-tools
@console-internet
@core
@debugging
@development
@directory-client
@hardware-monitoring
@java-platform
@large-systems
@network-file-system-client
@performance
@perl-runtime
@server-platform
@server-policy
pax
python-dmidecode
oddjob
sgpio
device-mapper-persistent-data
systemtap-client
python-six
jpackage-utils
python-requests
samba-winbind
certmonger
pam_krb5
krb5-workstation
perl-DBD-SQLite
%end

%post

########## Post Configure / Security Patch For SKT ##########
NOW=`date +%Y%m%d`
RO=/root/growin/$NOW
mkdir -p $RO


## 2015.07.13
/bin/tar cf /root/growin/etc.tar /etc/


##### Arrange Daemon #####
for stop in $(chkconfig --list | awk '{print $1}' | cut -d : -f 1)
do
chkconfig $stop off
done

DAEMON="abrtd acpid crond haldaemon iptables irqbalance network rsyslog sshd"

for start in $DAEMON
do
chkconfig $start on
done



HISTSIZE=5000
HISTTIMEFORMAT='%F %T   '
export HISTSIZE HISTTIMEFORMAT
EOF

