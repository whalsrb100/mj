# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
nfs --server=172.16.2.1 --dir=/data/iso/rhel6.7
lang en_US.UTF-8
keyboard us
network --onboot no --device eth0 --bootproto dhcp --noipv6
#network --onboot no --device eth0 --bootproto query --noipv6
reboot
rootpw  --iscrypted $6$UEE7EoPsGHXvmRko$0jAACuY40kWRDqMXsr2KF5qPBRRx9r8T66lxirn6QXIgpU/zUvcek.t6TWaOP/sIQvf1Z6FCngOi57XZhWYMd.
firewall --disabled
authconfig --enableshadow --passalgo=sha512
selinux --disabled
timezone Asia/Seoul
bootloader --location=mbr --driveorder=sda --append="crashkernel=auto"

# The following is the partition information you requested
# Note that any partitions you deleted are not expressed
# here so unless you clear all partitions first, this is
# not guaranteed to work
#interactive

clearpart --initlabel --all

part / --fstype ext4 --size=40960 --ondisk=sda --asprimary
part /boot --fstype ext4 --size=200 --ondisk=sda --asprimary
part swap --size=65536 --ondisk=sda --asprimary
part /var --fstype ext4 --size=102400 --ondisk=sda

part /users --fstype ext4 --size=2048 --grow --ondisk=sda


firstboot --disable



%packages
@base
@client-mgmt-tools
@console-internet
@core
@debugging
@development
@directory-client
@hardware-monitoring
@java-platform
@large-systems
@network-file-system-client
@performance
@perl-runtime
@server-platform
@server-policy
pax
python-dmidecode
oddjob
sgpio
systemtap-client
jpackage-utils
certmonger
pam_krb5
krb5-workstation
perl-DBD-SQLite
%end


%post

########## Post Configure / Security Patch For SKT ##########
NOW=`date +%Y%m%d`
RO=/root/growin/$NOW
mkdir -p $RO


## 2015.07.13
/bin/tar cf /root/growin/etc.tar /etc/


##### Arrange Daemon #####
for stop in $(chkconfig --list | awk '{print $1}' | cut -d : -f 1)
do
chkconfig $stop off
done

DAEMON="abrtd acpid crond haldaemon iptables irqbalance network rsyslog sshd"

for start in $DAEMON
do
chkconfig $start on
done



HISTSIZE=5000
HISTTIMEFORMAT='%F %T   '
export HISTSIZE HISTTIMEFORMAT
EOF

